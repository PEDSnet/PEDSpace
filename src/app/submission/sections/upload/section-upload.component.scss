// Import badge color variables and icons from theme
@import "src/themes/PEDSpace/styles/_theme_sass_variable_overrides.scss";
@import "src/themes/PEDSpace/app/shared/object-collection/shared/badges/type-badge/type-badge.component.scss";

// Simple, clean alert styling with type-specific accents
::ng-deep ds-alert {
  .alert {
    border-radius: 8px;
    border-left: 3px solid #6c757d;
    padding: 16px 50px 16px 50px; // More right padding for close button, more left for icon
    margin-bottom: 16px;
    position: relative;
    background: #f8f9fa;
    
    // Simple icon
    &::before {
      content: '';
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      width: 18px;
      height: 18px;
      background-color: #6c757d;
      mask-size: contain;
      mask-repeat: no-repeat;
      mask-position: center;
    }
    
    // Improved close button - small, clean, and properly styled
    .btn-close,
    .close {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(108, 117, 125, 0.15);
      border: none;
      border-radius: 4px;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #6c757d;
      font-size: 12px;
      font-weight: bold;
      opacity: 0.8;
      cursor: pointer;
      transition: all 0.2s ease;
      
      &:hover {
        background: rgba(108, 117, 125, 0.25);
        opacity: 1;
        transform: scale(1.05);
      }
      
      &:focus {
        outline: 2px solid rgba(108, 117, 125, 0.3);
        outline-offset: 1px;
      }
    }
  }
  
  // ==================
  // Type-specific colors and icons
  // ==================
  
  // DQResult
  &[data-type="dqresult"] .alert {
    border-left-color: $pistachio;
    background: rgba($pistachio, 0.05);
    
    &::before {
      background-color: $pistachio;
      mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXNxdWFyZS1saWJyYXJ5Ij48cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIi8+PHBhdGggZD0iTTcgN3YxMCIvPjxwYXRoIGQ9Ik0xMSA3djEwIi8+PHBhdGggZD0ibTE1IDcgMiAxMCIvPjwvc3ZnPg==");
    }
    
    .btn-close, .close { 
      color: $pistachio; 
      background: rgba($pistachio, 0.15);
      
      &:hover {
        background: rgba($pistachio, 0.25);
      }
    }
  }
  
  // DQCheck
  &[data-type="dqcheck"] .alert {
    border-left-color: $mauve;
    background: rgba($mauve, 0.05);
    
    &::before {
      background-color: $mauve;
      mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWdyaWQtMngyLWNoZWNrIj48cGF0aCBkPSJNMTIgM3YxN2ExIDEgMCAwIDEtMSAxSDVhMiAyIDAgMCAxLTItMlY1YTIgMiAwIDAgMSAyLTJoMTRhMiAyIDAgMCAxIDIgMnY2YTEgMSAwIDAgMS0xIDFIMyIvPjxwYXRoIGQ9Im0xNiAxOSAyIDIgNC00Ii8+PC9zdmc+");
    }
    
    .btn-close, .close { 
      color: $mauve; 
      background: rgba($mauve, 0.15);
      
      &:hover {
        background: rgba($mauve, 0.25);
      }
    }
  }
  
  // Documentation
  &[data-type="documentation"] .alert {
    border-left-color: $tropical-indigo;
    background: rgba($tropical-indigo, 0.05);
    
    &::before {
      background-color: $tropical-indigo;
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-book-open-text'%3E%3Cpath d='M12 7v14'/%3E%3Cpath d='M16 12h2'/%3E%3Cpath d='M16 8h2'/%3E%3Cpath d='M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z'/%3E%3Cpath d='M6 12h2'/%3E%3Cpath d='M6 8h2'/%3E%3C/svg%3E");
    }
    
    .btn-close, .close { 
      color: $tropical-indigo; 
      background: rgba($tropical-indigo, 0.15);
      
      &:hover {
        background: rgba($tropical-indigo, 0.25);
      }
    }
  }
  
  // Phenotype
  &[data-type="phenotype"] .alert {
    border-left-color: $seafoam-green;
    background: rgba($seafoam-green, 0.05);
    
    &::before {
      background-color: $seafoam-green;
      mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWRuYSI+PHBhdGggZD0ibTEwIDE2IDEuNSAxLjUiLz48cGF0aCBkPSJtMTQgOC0xLjUtMS41Ii8+PHBhdGggZD0iTTE1IDJjLTEuNzk4IDEuOTk4LTIuNTE4IDMuOTk1LTIuODA3IDUuOTkzIi8+PHBhdGggZD0ibTE2LjUgMTAuNSAxIDEiLz48cGF0aCBkPSJtMTcgNi0yLjg5MS0yLjg5MSIvPjxwYXRoIGQ9Ik0yIDE1YzYuNjY3LTYgMTMuMzMzIDAgMjAtNiIvPjxwYXRoIGQ9Im0yMCA5IC44OTEuODkxIi8+PHBhdGggZD0iTTMuMTA5IDE0LjEwOSA0IDE1Ii8+PHBhdGggZD0ibTYuNSAxMi41IDEgMSIvPjxwYXRoIGQ9Im03IDE4IDIuODkxIDIuODkxIi8+PHBhdGggZD0iTTkgMjJjMS43OTgtMS45OTggMi41MTgtMy45OTUgMi44MDctNS45OTMiLz48L3N2Zz4=");
    }
    
    .btn-close, .close { 
      color: $seafoam-green; 
      background: rgba($seafoam-green, 0.15);
      
      &:hover {
        background: rgba($seafoam-green, 0.25);
      }
    }
  }
  
  // ConceptSet
  &[data-type="conceptset"] .alert {
    border-left-color: $dusty-rose;
    background: rgba($dusty-rose, 0.05);
    
    &::before {
      background-color: $dusty-rose;
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-terminal'%3E%3Cpolyline points='4 17 10 11 4 5'/%3E%3Cline x1='12' x2='20' y1='19' y2='19'/%3E%3C/svg%3E");
    }
    
    .btn-close, .close { 
      color: $dusty-rose; 
      background: rgba($dusty-rose, 0.15);
      
      &:hover {
        background: rgba($dusty-rose, 0.25);
      }
    }
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  ::ng-deep ds-alert .alert {
    padding: 12px 44px 12px 44px; // Maintain proper spacing on mobile
    
    &::before {
      width: 16px;
      height: 16px;
      left: 12px;
    }
    
    .btn-close,
    .close {
      top: 10px;
      right: 10px;
      width: 18px;
      height: 18px;
      font-size: 10px;
    }
  }
}
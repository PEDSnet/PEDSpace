@import "src/styles/_variables.scss";
@import "src/themes/PEDSpace/styles/_theme_sass_variable_overrides.scss";

// ======================
// Universal Opacity Variable
// ======================
$badge-opacity: 0.8;

// ======================
// Function to Generate Repeating Linear Gradient
// ======================
@function generateBadgePattern($pattern-color) {
    @return repeating-linear-gradient(45deg,
        $pattern-color 0px,
        $pattern-color 0.4px,
        #e5e5f7 0.4px,
        #e5e5f7 4px);
}

// ======================
// SVG URL Variables
// ======================
$conceptset-icon: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-terminal'%3E%3Cpolyline points='4 17 10 11 4 5'/%3E%3Cline x1='12' x2='20' y1='19' y2='19'/%3E%3C/svg%3E";
$dqcheck-icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWdyaWQtMngyLWNoZWNrIj48cGF0aCBkPSJNMTIgM3YxN2ExIDEgMCAwIDEtMSAxSDVhMiAyIDAgMCAxLTItMlY1YTIgMiAwIDAgMSAyLTJoMTRhMiAyIDAgMCAxIDIgMnY2YTEgMSAwIDAgMS0xIDFIMyIvPjxwYXRoIGQ9Im0xNiAxOSAyIDIgNC00Ii8+PC9zdmc+";
$documentation-icon: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-book-open-text'%3E%3Cpath d='M12 7v14'/%3E%3Cpath d='M16 12h2'/%3E%3Cpath d='M16 8h2'/%3E%3Cpath d='M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z'/%3E%3Cpath d='M6 12h2'/%3E%3Cpath d='M6 8h2'/%3E%3C/svg%3E";
$study-icon: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-school'%3E%3Cpath d='M14 22v-4a2 2 0 1 0-4 0v4'/%3E%3Cpath d='m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2'/%3E%3Cpath d='M18 5v17'/%3E%3Cpath d='m4 6 8-4 8 4'/%3E%3Cpath d='M6 5v17'/%3E%3Ccircle cx='12' cy='9' r='2'/%3E%3C/svg%3E";
$collection-icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWJveGVzIj48cGF0aCBkPSJNMi45NyAxMi45MkEyIDIgMCAwIDAgMiAxNC42M3YzLjI0YTIgMiAwIDAgMCAuOTcgMS43MWwzIDEuOGEyIDIgMCAwIDAgMi4wNiAwTDEyIDE5di01LjVsLTUtMy00LjAzIDIuNDJaIi8+PHBhdGggZD0ibTcgMTYuNS00Ljc0LTIuODUiLz48cGF0aCBkPSJtNyAxNi41IDUtMyIvPjxwYXRoIGQ9Ik03IDE2LjV2NS4xNyIvPjxwYXRoIGQ9Ik0xMiAxMy41VjE5bDMuOTcgMi4zOGEyIDIgMCAwIDAgMi4wNiAwbDMtMS44YTIgMiAwIDAgMCAuOTctMS43MXYtMy4yNGEyIDIgMCAwIDAtLjk3LTEuNzFMMTcgMTAuNWwtNSAzWiIvPjxwYXRoIGQ9Im0xNyAxNi41LTUtMyIvPjxwYXRoIGQ9Im0xNyAxNi41IDQuNzQtMi44NSIvPjxwYXRoIGQ9Ik0xNyAxNi41djUuMTciLz48cGF0aCBkPSJNNy45NyA0LjQyQTIgMiAwIDAgMCA3IDYuMTN2NC4zN2w1IDMgNS0zVjYuMTNhMiAyIDAgMCAwLS45Ny0xLjcxbC0zLTEuOGEyIDIgMCAwIDAtMi4wNiAwbC0zIDEuOFoiLz48cGF0aCBkPSJNMTIgOCA3LjI2IDUuMTUiLz48cGF0aCBkPSJtMTIgOCA0Ljc0LTIuODUiLz48cGF0aCBkPSJNMTIgMTMuNVY4Ii8+PC9zdmc+";
$phenotype-icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWRuYSI+PHBhdGggZD0ibTEwIDE2IDEuNSAxLjUiLz48cGF0aCBkPSJtMTQgOC0xLjUtMS41Ii8+PHBhdGggZD0iTTE1IDJjLTEuNzk4IDEuOTk4LTIuNTE4IDMuOTk1LTIuODA3IDUuOTkzIi8+PHBhdGggZD0ibTE2LjUgMTAuNSAxIDEiLz48cGF0aCBkPSJtMTcgNi0yLjg5MS0yLjg5MSIvPjxwYXRoIGQ9Ik0yIDE1YzYuNjY3LTYgMTMuMzMzIDAgMjAtNiIvPjxwYXRoIGQ9Im0yMCA5IC44OTEuODkxIi8+PHBhdGggZD0iTTMuMTA5IDE0LjEwOSA0IDE1Ii8+PHBhdGggZD0ibTYuNSAxMi41IDEgMSIvPjxwYXRoIGQ9Im03IDE4IDIuODkxIDIuODkxIi8+PHBhdGggZD0iTTkgMjJjMS43OTgtMS45OTggMi41MTgtMy45OTUgMi44MDctNS45OTMiLz48L3N2Zz4=";
$dqresult-icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXNxdWFyZS1saWJyYXJ5Ij48cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIi8+PHBhdGggZD0iTTcgN3YxMCIvPjxwYXRoIGQ9Ik0xMSA3djEwIi8+PHBhdGggZD0ibTE1IDcgMiAxMCIvPjwvc3ZnPg==";
$orgunit-icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXVuaXZlcnNpdHkiPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjEiLz48cGF0aCBkPSJNMjIgMjBWOGgtNGwtNi00LTYgNEgydjEyYTIgMiAwIDAgMCAyIDJoMTZhMiAyIDAgMCAwIDItMiIvPjxwYXRoIGQ9Ik02IDE3di4wMSIvPjxwYXRoIGQ9Ik02IDEzdi4wMSIvPjxwYXRoIGQ9Ik0xOCAxN3YuMDEiLz48cGF0aCBkPSJNMTggMTN2LjAxIi8+PHBhdGggZD0iTTE0IDIydi01YTIgMiAwIDAgMC0yLTJhMiAyIDAgMCAwLTIgMnY1Ii8+PC9zdmc+";
$person-icon: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXVzZXIiPjxwYXRoIGQ9Ik0xOSAyMXYtMmE0IDQgMCAwIDAtNC00SDlhNCA0IDAgMCAwLTQgNHYyIi8+PGNpcmNsZSBjeD0iMTIiIGN5PSI3IiByPSI0Ii8+PC9zdmc+";

// ======================
// Badge Type Styles
// ======================
.badge-type {
    padding: 5px 10px 5px 30px;
    border-radius: 5px;
    display: inline-flex;
    align-items: center;
    position: relative;
    font-weight: bold;
    text-decoration: underline;
    transition: all 0.3s ease;
    color: $black-bean;

    &::before {
        content: '';
        position: absolute;
        left: 10px;
        width: 16px;
        height: 16px;
        background-color: $black-bean;
        mask-size: cover;
        -webkit-mask-size: cover;
        transition: all 0.3s ease;
    }

    // Interactive states only apply to clickable elements that aren't communities
    &:not(.non-interactive):not(.badge-community) {
        cursor: pointer;

        &:hover,
        &:focus {
            color: $black-bean;
            text-decoration: none;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);

            &::before {
                transform: scale(1.1);
            }
        }
    }

    // Non-interactive badges get a subtle animation on hover
    &.non-interactive {
        cursor: default;

        &:hover {
            &::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                transform: translateX(-100%);
                animation: shine 1.5s infinite;
            }
        }
    }

    &:not(.badge-community):hover,
    &:not(.badge-community):focus {
        color: $black-bean;
        text-decoration: none;
        transform: translateY(-2px);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);

        &::before {
            transform: scale(1.1);
        }
    }

    // ================================
    // Specific Badge Type Styles
    // ================================

    // Conceptset Badge
    &.badge-conceptset {
        background-color: $dusty-rose;
        transition: all 0.3s ease;

        &::before {
            mask-image: url($conceptset-icon);
            -webkit-mask-image: url($conceptset-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($dusty-rose, 10%);
        }

        &.badge-collection {
            border: 2px solid $dusty-rose;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($dusty-rose); // Using the gradient function
            transition: all 0.3s ease;



            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($dusty-rose, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($dusty-rose, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // DQCheck Badge
    &.badge-dqcheck {
        background-color: $mauve;
        transition: all 0.3s ease;

        &::before {
            mask-image: url($dqcheck-icon);
            -webkit-mask-image: url($dqcheck-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($mauve, 10%);
        }

        &.badge-collection {
            border: 2px solid $mauve;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($mauve); // Using the gradient function
            transition: all 0.3s ease;



            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($mauve, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($mauve, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // Documentation Badge
    &.badge-documentation {
        background-color: $tropical-indigo;
        transition: all 0.3s ease;

        &::before {
            mask-image: url($documentation-icon);
            -webkit-mask-image: url($documentation-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($tropical-indigo, 10%);
        }

        &.badge-collection {
            border: 2px solid $tropical-indigo;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($tropical-indigo); // Using the gradient function
            transition: all 0.3s ease;



            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($tropical-indigo, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($tropical-indigo, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // Study Badge
    &.badge-study {
        background-color: $puce;
        transition: all 0.3s ease;

        &::before {
            mask-image: url($study-icon);
            -webkit-mask-image: url($study-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($puce, 10%);
        }

        &.badge-collection {
            border: 2px solid $puce;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($puce); // Using the gradient function
            transition: all 0.3s ease;



            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($puce, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($puce, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // Phenotype Badge
    &.badge-phenotype {
        background-color: $seafoam-green;
        transition: all 0.3s ease;

        &::before {
            mask-image: url($phenotype-icon);
            -webkit-mask-image: url($phenotype-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($seafoam-green, 10%);
        }

        &.badge-collection {
            border: 2px solid $seafoam-green;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($seafoam-green); // Using the gradient function
            transition: all 0.3s ease;



            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($seafoam-green, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($seafoam-green, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // OrgUnit Badge
    &.badge-orgunit {
        background-color: $carolina-blue;
        transition: all 0.3s ease;

        &::before {
            mask-image: url($orgunit-icon);
            -webkit-mask-image: url($orgunit-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($carolina-blue, 10%);
        }

        &.badge-collection {
            border: 2px solid $carolina-blue;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($carolina-blue); // Using the gradient function
            transition: all 0.3s ease;



            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($carolina-blue, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($carolina-blue, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // Person Badge
    &.badge-person {
        background-color: $tomato;
        transition: all 0.3s ease;

        &::before {
            mask-image: url($person-icon);
            -webkit-mask-image: url($person-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($tomato, 10%);
        }

        &.badge-collection {
            border: 2px solid $tomato;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($tomato); // Using the gradient function
            transition: all 0.3s ease;



            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($tomato, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($tomato, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // Add this to your SCSS file right before the // Community Badge section

    // DQResult Badge
    &.badge-dqresult {
        background-color: $mint-green; // You can replace with your preferred color variable
        transition: all 0.3s ease;

        &::before {
            mask-image: url($dqresult-icon);
            -webkit-mask-image: url($dqresult-icon);
        }

        &:not(.badge-community):hover,
        &:not(.badge-community):focus {
            background-color: lighten($mint-green, 10%);
        }

        &.badge-collection {
            border: 2px solid $mint-green;
            background-color: #e5e5f7; // Light background color
            opacity: $badge-opacity; // Using the universal opacity variable
            background-size: 4px 4px;
            background-image: generateBadgePattern($mint-green); // Using the gradient function
            transition: all 0.3s ease;

            &:hover,
            &:focus {
                opacity: 1; // Fully opaque on hover/focus
                background-color: lighten($mint-green, 15%); // Lighten the background color
                background-image: generateBadgePattern(lighten($mint-green, 25%)); // Generate a lighter pattern
                transform: translateY(-2px); // Slight upward movement
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
            }
        }
    }

    // Community Badge
    &.badge-community {
        background-color: theme-color('info');
        cursor: default;

        &::before {
            mask-image: url($collection-icon);
            -webkit-mask-image: url($collection-icon);
        }
    }

    // Default Collection Badge Style for Undefined Types
    &.badge-collection:not([class*="badge-conceptset"]):not([class*="badge-dqcheck"]):not([class*="badge-dqresult"]):not([class*="badge-documentation"]):not([class*="badge-study"]):not([class*="badge-phenotype"]) {
        border: 2px solid theme-color('info');
        background-color: #e5e5f7; // Light background color
        opacity: $badge-opacity; // Using the universal opacity variable
        background-size: 4px 4px;
        background-image: generateBadgePattern(theme-color('info')); // Using the gradient function
        transition: all 0.3s ease;

        &::before {
            mask-image: url($collection-icon);
            -webkit-mask-image: url($collection-icon);
        }

        &:hover,
        &:focus {
            opacity: 1; // Fully opaque on hover/focus
            background-color: lighten(theme-color('info'), 15%); // Lighten the background color
            background-image: generateBadgePattern(lighten(theme-color('info'), 25%)); // Generate a lighter pattern
            transform: translateY(-2px); // Slight upward movement
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); // Add shadow for depth
        }
    }

    // ======================
    // Keyframes for Shine Animation
    // ======================
    @keyframes shine {
        100% {
            transform: translateX(100%);
        }
    }
}
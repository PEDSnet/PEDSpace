<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd"
    default-lazy-init="true">

    <bean class="org.dspace.content.virtual.VirtualMetadataPopulator">
        <property name="map">
            <map>
                <entry key="isAuthorOfConceptSet" value-ref="isAuthorOfConceptSetMap"/>
                <entry key="isEditorOfConceptSet" value-ref="isEditorOfConceptSetMap"/>
                <entry key="isStudyOfConceptSet" value-ref="isStudyOfConceptSetMap"/>
                <entry key="isOrgUnitOfConceptSet" value-ref="isOrgUnitOfConceptSetMap"/>
                <entry key="isOrgUnitOfPerson" value-ref="isOrgUnitOfPersonMap"/>
                <entry key="isStudyOfPerson" value-ref="isStudyOfPersonMap"/>
                <entry key="isOrgUnitOfStudy" value-ref="isOrgUnitOfStudyMap"/>
                <entry key="isVolumeOfJournal" value-ref="isVolumeOfJournalMap"/>
                <entry key="isIssueOfJournalVolume" value-ref="isIssueOfJournalVolumeMap"/>
                <entry key="isConceptSetOfJournalIssue" value-ref="isConceptSetOfJournalIssueMap"/>
                <entry key="isDataQualityCheckOfConceptSet" value-ref="isDataQualityCheckOfConceptSetMap"/>
                <entry key="isDocumentationOfConceptSet" value-ref="isDocumentationOfConceptSetMap"/>
                <entry key="isPhenotypeOfConceptSet" value-ref="isPhenotypeOfConceptSetMap"/>
            </map>
        </property>
    </bean>

    <!-- Define maps for each relationship -->
    <util:map id="isAuthorOfConceptSetMap">
        <entry key="dc.contributor.author" value-ref="conceptSetAuthor_author"/>
    </util:map>

    <util:map id="isEditorOfConceptSetMap">
        <entry key="dc.contributor.editor" value-ref="conceptSetEditor_editor"/>
    </util:map>

    <util:map id="isStudyOfConceptSetMap">
        <entry key="dc.relation.study" value-ref="conceptSetStudy_title"/>
    </util:map>

    <util:map id="isOrgUnitOfConceptSetMap">
        <entry key="dc.contributor.other" value-ref="conceptSetOrgUnit_name"/>
    </util:map>

    <util:map id="isOrgUnitOfPersonMap">
        <entry key="dc.relation.affiliation" value-ref="personOrgUnit_name"/>
    </util:map>

    <util:map id="isStudyOfPersonMap">
        <entry key="dc.relation.study" value-ref="personStudy_title"/>
    </util:map>

    <util:map id="isOrgUnitOfStudyMap">
        <entry key="dc.contributor.other" value-ref="studyOrgUnit_name"/>
    </util:map>

    <util:map id="isVolumeOfJournalMap">
        <entry key="dc.relation.ispartof" value-ref="volumeJournal_title"/>
    </util:map>

    <util:map id="isIssueOfJournalVolumeMap">
        <entry key="dc.relation.ispartof" value-ref="issueJournalVolume_title"/>
    </util:map>

    <util:map id="isConceptSetOfJournalIssueMap">
        <entry key="dc.relation.conceptset" value-ref="journalIssueConceptSet_title"/>
    </util:map>

    <util:map id="isDataQualityCheckOfConceptSetMap">
        <entry key="dc.relation.qualitycheck" value-ref="conceptSetDataQualityCheck_description"/>
    </util:map>

    <util:map id="isDocumentationOfConceptSetMap">
        <entry key="dc.relation.documentation" value-ref="conceptSetDocumentation_title"/>
    </util:map>

    <util:map id="isPhenotypeOfConceptSetMap">
        <entry key="dc.relation.phenotype" value-ref="conceptSetPhenotype_description"/>
    </util:map>

    <!-- Define beans for each virtual metadata field -->
    <bean class="org.dspace.content.virtual.Concatenate" id="conceptSetAuthor_author">
        <property name="fields">
            <util:list>
                <value>person.familyName</value>
                <value>person.givenName</value>
            </util:list>
        </property>
        <property name="separator">
            <value>, </value>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Concatenate" id="conceptSetEditor_editor">
        <property name="fields">
            <util:list>
                <value>person.familyName</value>
                <value>person.givenName</value>
            </util:list>
        </property>
        <property name="separator">
            <value>, </value>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="conceptSetStudy_title">
        <property name="fields">
            <util:list>
                <value>dc.title</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="conceptSetOrgUnit_name">
        <property name="fields">
            <util:list>
                <value>organization.legalName</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="personOrgUnit_name">
        <property name="fields">
            <util:list>
                <value>organization.legalName</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="personStudy_title">
        <property name="fields">
            <util:list>
                <value>dc.title</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="studyOrgUnit_name">
        <property name="fields">
            <util:list>
                <value>organization.legalName</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="volumeJournal_title">
        <property name="fields">
            <util:list>
                <value>dc.title</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="issueJournalVolume_title">
        <property name="fields">
            <util:list>
                <value>dc.title</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="journalIssueConceptSet_title">
        <property name="fields">
            <util:list>
                <value>dc.title</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="conceptSetDataQualityCheck_description">
        <property name="fields">
            <util:list>
                <value>dc.description</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="conceptSetDocumentation_title">
        <property name="fields">
            <util:list>
                <value>dc.title</value>
            </util:list>
        </property>
    </bean>

    <bean class="org.dspace.content.virtual.Collected" id="conceptSetPhenotype_description">
        <property name="fields">
            <util:list>
                <value>dc.description</value>
            </util:list>
        </property>
    </bean>

</beans>
<!-- sudo cp /data/dspace-angular-dspace-8.0/config/virtual-metadata.xml /data/dspace/config/spring/api/virtual-metadata.xml -->